<app-nav-bar></app-nav-bar>
<div class="header-tool">
  <br>
  <div style="text-align: center">
    <img src="../../assets/pencil.svg" style="height: 64px;
    width: 64px;">
    <h4> Boite Messagerie </h4>
  </div>
  <hr class="separator">
</div>
<br>
<br>
<div class="hold-transition sidebar-mini">
<div class="wrapper" *ngIf="mode==0">
<div class="content-wrapper container">


  <!-- Main content -->
  <section class="content ">
    <div class="row">
      <div class="col-md-3">
        <a (click)="compose()"  class="btn btn-primary btn-block mb-3">Compose</a>

        <div class="card">

          <div class="card-body p-0">
            <ul class="nav nav-pills flex-column">
              <li class="nav-item">
                <a (click)="backToInbox()" class="nav-link">
                  <i  class="fa fa-inbox"></i> Boite de Reception
                  <span class="badge bg-primary float-right">{{ NNotif }}  </span>
                </a>
              </li>
              <li class="nav-item">
                <a (click)="MessageEnvoyer()" class="nav-link">
                  <i class="fa fa-envelope-o"></i> Message Envoye
                </a>
              <li class="nav-item">
                <a (click)="corbeille()" class="nav-link">
                  <i class="fa fa-trash-o"></i> Corbeille
                </a>
              </li>
            </ul>
          </div>
          <!-- /.card-body -->
        </div>
        <!-- /. box -->

        <!-- /.card -->
      </div>
      <!-- /.col -->
      <div class="col-md-9">
        <div class="card card-primary card-outline">
          <div class="card-header">
            <h3 class="card-title">Boite de Reception</h3>


            <!-- /.card-tools -->
          </div>
          <!-- /.card-header -->
          <div class="card-body p-0">

            <div class="table-responsive mailbox-messages">
              <table class="table table-hover table-sm">
                <tbody>
                <tr *ngFor="let I of pageMessagesI?.content">
                  <td class="mailbox-name"><a (click)="read(I)">{{ I.emeteur.nom }} {{ I.emeteur.prenom }}</a></td>
                  <td class="mailbox-subject"><b> {{ I.subject }}</b> " {{ I.body.substring(0,15) }}... "
                  </td>
                  <td class="mailbox-attachment"></td>
                  <td class="mailbox-date">{{ I.dateE }} {{ I.heureE }} </td>
                </tr>
                </tbody>
              </table>
              <!-- /.table -->
            </div>

            <!-- /.mail-box-messages -->
          </div>

          <!-- /.card-body -->

        </div>
        <div class="btn-group"     style="margin-left: 300px;" >

          <ul class="pagination">
            <li class="page-item " [ngClass]="{'disabled':page==0}">
              <a class="page-link" (click)="gotoPageI(page-1)"><i class="fas fa-chevron-left fa-lg"></i></a>
            </li>
            <li class="page-item" *ngFor="let p of pages;let i=index" [ngClass]="{'active':page==i}">
              <a class="page-link " (click)="gotoPageI(i)">{{i +1}}</a>
            </li>
            <li class="page-item" [ngClass]="{'disabled':page==ArrayS-1}">
              <a class="page-link" (click)="gotoPageI(page+1)"> <i class="fas fa-chevron-right fa-lg"></i></a>
            </li>
          </ul>


        </div>
        <!-- /. box -->
      </div>
      <!-- /.col -->
    </div>
    <!-- /.row -->
  </section>
  <!-- /.content -->
</div>
<!-- /.content-wrapper -->

<!-- Control Sidebar -->
<aside class="control-sidebar control-sidebar-dark">
  <!-- Control sidebar content goes here -->
</aside>
<!-- /.control-sidebar -->
</div>
<!-- ./wrapper -->



<!--     Message Envoyer       -->



  <div class="wrapper" *ngIf="mode==3">
    <div class="content-wrapper container">


      <!-- Main content -->
      <section class="content">
        <div class="row">
          <div class="col-md-3">
            <a (click)="compose()"  class="btn btn-primary btn-block mb-3">Compose</a>

            <div class="card">
              <div class="card-body p-0">
                <ul class="nav nav-pills flex-column">
                  <li class="nav-item">
                    <a (click)="backToInbox()" class="nav-link">
                      <i  class="fa fa-inbox"></i> Boite de Reception
                      <span class="badge bg-primary float-right">{{ NNotif }}  </span>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a (click)="MessageEnvoyer()" class="nav-link">
                      <i class="fa fa-envelope-o"></i> Message Envoye
                    </a>
                  <li class="nav-item">
                    <a (click)="corbeille()" class="nav-link">
                      <i class="fa fa-trash-o"></i> Corbeille
                    </a>
                  </li>
                </ul>
              </div>
              <!-- /.card-body -->
            </div>

            <!-- /. box -->

            <!-- /.card -->
          </div>
          <!-- /.col -->
          <div class="col-md-9">
            <div class="card card-primary card-outline">
              <div class="card-header">
                <h3 class="card-title">Messages Envoyees</h3>


                <!-- /.card-tools -->
              </div>
              <!-- /.card-header -->
              <div class="card-body p-0">

                <div class="table-responsive mailbox-messages">
                  <table class="table table-hover table-striped">
                    <tbody>
                    <tr *ngFor="let I of pageMessagesE?.content">
                      <td class="mailbox-name"><a (click)="read(I)">{{ I.recepteur.nom }} {{ I.recepteur.prenom }}</a></td>
                      <td class="mailbox-subject"><b> {{ I.subject }}</b> " {{ I.body }}..."
                      </td>
                      <td class="mailbox-attachment"></td>
                      <td class="mailbox-date">{{ I.dateE }} {{ I.heureE }} </td>
                    </tr>
                    </tbody>
                  </table>
                  <!-- /.table -->
                </div>
                <!-- /.mail-box-messages -->
              </div>
              <!-- /.card-body -->

            </div>
            <div class="btn-group"     style="margin-left: 300px;" >

              <ul class="pagination">
                <li class="page-item " [ngClass]="{'disabled':page==0}">
                  <a class="page-link" (click)="gotoPageE(page-1)"><i class="fas fa-chevron-left fa-lg"></i></a>
                </li>
                <li class="page-item" *ngFor="let p of pages;let i=index" [ngClass]="{'active':page==i}">
                  <a class="page-link " (click)="gotoPageE(i)">{{i +1}}</a>
                </li>
                <li class="page-item" [ngClass]="{'disabled':page==ArrayS-1}">
                  <a class="page-link" (click)="gotoPageE(page+1)"> <i class="fas fa-chevron-right fa-lg"></i></a>
                </li>
              </ul>


            </div>
            <!-- /. box -->
          </div>
          <!-- /.col -->
        </div>
        <!-- /.row -->
      </section>
      <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->

    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark">
      <!-- Control sidebar content goes here -->
    </aside>
    <!-- /.control-sidebar -->
  </div>
  <!-- ./wrapper -->






  <!--     Message Supprimer       -->

  <div class="wrapper" *ngIf="mode==4">
    <div class="content-wrapper container">


      <!-- Main content -->
      <section class="content">
        <div class="row">
          <div class="col-md-3">
            <a (click)="compose()"  class="btn btn-primary btn-block mb-3">Compose</a>

            <div class="card">
              <div class="card-body p-0">
                <ul class="nav nav-pills flex-column">
                  <li class="nav-item">
                    <a (click)="backToInbox()" class="nav-link">
                      <i  class="fa fa-inbox"></i> Boite de Reception
                      <span class="badge bg-primary float-right"> {{ NNotif }}  </span>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a (click)="MessageEnvoyer()" class="nav-link">
                      <i class="fa fa-envelope-o"></i> Message Envoye
                    </a>
                  <li class="nav-item">
                    <a (click)="corbeille()" class="nav-link">
                      <i class="fa fa-trash-o"></i> Corbeille
                    </a>
                  </li>
                </ul>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /. box -->

            <!-- /.card -->
          </div>
          <!-- /.col -->
          <div class="col-md-9">
            <div class="card card-primary card-outline">
              <div class="card-header">
                <h3 class="card-title">Messages Supprimees</h3>


                <!-- /.card-tools -->
              </div>
              <!-- /.card-header -->
              <div class="card-body p-0">
                <form [formGroup]="firstFormGroup" >
                <div class="table-responsive mailbox-messages">
                  <table class="table table-hover table-striped">
                    <tbody>
                    <tr *ngFor="let I of pageMessagesS?.content">
                      <td class="mailbox-name" > <a (click)="readS(I)"> {{ I.emeteur.nom }} {{ I.emeteur.prenom }}</a>
                        <input data-title="idM" formControlName="idM" type="hidden"  [(ngModel)]="idM" value="{{ I.idM }}"></td>

                      <td class="mailbox-subject"><b> {{ I.subject }}</b> " {{ I.body }}... "
                      </td>
                      <td class="mailbox-attachment"></td>
                      <td class="mailbox-date">{{ I.dateE }} {{ I.heureE }} </td>
                    </tr>
                    </tbody>
                  </table>
                  <!-- /.table -->
                </div>
                <!-- /.mail-box-messages -->
                </form>
              </div>
              <!-- /.card-body -->

            </div>
            <div class="btn-group"     style="margin-left: 300px;" >

              <ul class="pagination">
                <li class="page-item " [ngClass]="{'disabled':page==0}">
                  <a class="page-link" (click)="gotoPageS(page-1)"><i class="fas fa-chevron-left fa-lg"></i></a>
                </li>
                <li class="page-item" *ngFor="let p of pages;let i=index" [ngClass]="{'active':page==i}">
                  <a class="page-link " (click)="gotoPageS(i)">{{i +1}}</a>
                </li>
                <li class="page-item" [ngClass]="{'disabled':page==ArrayS-1}">
                  <a class="page-link" (click)="gotoPageS(page+1)"> <i class="fas fa-chevron-right fa-lg"></i></a>
                </li>
              </ul>


            </div>
            <!-- /. box -->
          </div>
          <!-- /.col -->
        </div>
        <!-- /.row -->
      </section>
      <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->

    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark">
      <!-- Control sidebar content goes here -->
    </aside>
    <!-- /.control-sidebar -->
  </div>
  <!-- ./wrapper -->












  <!--     Composer une message       -->


  <div class="wrapper" *ngIf="mode==1">

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Main content -->
    <section class="content">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-3">
            <a (click)="backToInbox()" class="btn btn-primary btn-block mb-3">Back to Inbox</a>

            <div class="card">

              <div class="card-body p-0">
                <ul class="nav nav-pills flex-column">
                  <li class="nav-item">
                    <a (click)="backToInbox()" class="nav-link">
                      <i class="fa fa-inbox"></i> Boite de Reception
                      <span class="badge bg-primary float-right">{{ NNotif }}</span>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a (click)="MessageEnvoyer()" class="nav-link">
                      <i class="fa fa-envelope-o"></i> Message Envoye
                    </a>
                  </li>
                  <li class="nav-item">
                    <a (click)="corbeille()" class="nav-link">
                      <i class="fa fa-trash-o"></i> Corbeille
                    </a>
                  </li>
                </ul>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /. box -->
            <!-- /.card -->
          </div>
          <!-- /.col -->
          <div class="col-md-9">
            <form [formGroup]="firstFormGroup" >
            <div class="card card-primary card-outline">
              <div class="card-header">
                <h3 class="card-title">Composé un nouveau message</h3>
              </div>
              <!-- /.card-header -->
              <div class="card-body">

                  <div style="text-align: center">
                    <div class="form-group">
                      <div class="col-md-6">
                        <mat-form-field class="example-form-field">
                          <mat-select formControlName="serviceMot" [(ngModel)]="serviceMot" placeholder="Service" (ngModelChange)="chargerEmpbyService()" required>
                            <mat-option  value="Informatique">
                              Informatique
                            </mat-option>
                            <mat-option  value="Chimie">
                              Chimie
                            </mat-option>
                            <mat-option  value="Securite">
                              Securite
                            </mat-option>
                            <mat-option  value="Mecanique">
                              Mecanique
                            </mat-option>
                            <mat-option  value="Gestion de Stock">
                              Gestion de Stock
                            </mat-option>
                          </mat-select>
                          <mat-error *ngIf="">Please choose a service</mat-error>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                  <div style="text-align: center">
                    <div class="form-group">
                      <div class="col-md-6">
                        <mat-form-field class="example-form-field">
                          <mat-select formControlName="idR" [(ngModel)]="idR" placeholder="Nom Prenom d'Employe" required>
                            <mat-option  *ngFor="let c of pageEmployes?.content" value="{{c.matricule}}">
                              {{ c.nom }} {{ c.prenom }}
                            </mat-option>
                          </mat-select>
                          <mat-error *ngIf="">Please choose an Employe</mat-error>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>

                <div class="form-group">
                  <input formControlName="subject" class="form-control" placeholder="Subject:">
                </div>
                <div class="form-group">

                    <textarea id="compose-textarea" formControlName="body" class="form-control" style="height: 300px">

                    </textarea>
                </div>
                <div class="form-group">

                  <div class="col-md-6 col-md-offset-3">
                    <div *ngIf="currentFileUpload1">

                      <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar"
                           attr.aria-valuenow="{{progress1.percentage1}}"
                           aria-valuemin="0" aria-valuemax="100" [ngStyle]="{width:progress1.percentage1+'%'}">
                        {{progress1.percentage1}}%
                      </div>
                    </div>

                    <label style="color: #1ca64c" *ngIf="progress1.percentage1==100">Le fichier est bien chargé.</label>
                    <br>
                    <label class="btn btn-default">
                      <input type="file" (change)="selectFile1($event)">
                    </label>
                    <button mat-raised-button [disabled]="!selectedFiles1"
                            (click)="upload1()">Upload
                    </button>
                  </div>
                  <div class="col-md-6 col-md-offset-3">
                    <div *ngIf="currentFileUpload2">

                      <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar"
                           attr.aria-valuenow="{{progress2.percentage2}}"
                           aria-valuemin="0" aria-valuemax="100" [ngStyle]="{width:progress2.percentage2+'%'}">
                        {{progress2.percentage2}}%
                      </div>
                    </div>

                    <label style="color: #1ca64c" *ngIf="progress2.percentage2==100">Le fichier est bien chargé.</label>
                    <br>
                    <label class="btn btn-default">
                      <input type="file" (change)="selectFile2($event)">
                    </label>
                    <button mat-raised-button [disabled]="!selectedFiles2"
                            (click)="upload2()">Upload
                    </button>
                  </div>

                </div>

              </div>

              <!-- /.card-body -->
              <div class="card-footer">
                <div class="float-right">
                  <button type="submit" (click)="saveMessage()" class="btn btn-primary"><i class="fa fa-envelope-o"></i> Envoyer</button>
                </div>
                <button type="reset" class="btn btn-default"><i class="fa fa-times"></i> Annuler</button>
              </div>
              <!-- /.card-footer -->
            </div>
            <!-- /. box -->
            </form>
          </div>
          <!-- /.col -->
        </div>
        <!-- /.row -->
      </div><!-- /.container-fluid -->
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
  </aside>
  <!-- /.control-sidebar -->
</div>
<!-- ./wrapper -->


  <!--     Lire une message       -->


<div class="wrapper" *ngIf="mode==2">
  <div class="content-wrapper container">

    <!-- Main content -->
    <section class="content">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-3">
            <a (click)="backToInbox()" class="btn btn-primary btn-block mb-3">Back to Inbox</a>

            <div class="card">

              <div class="card-body p-0">
                <ul class="nav nav-pills flex-column">
                  <li class="nav-item">
                    <a (click)="backToInbox()" class="nav-link">
                      <i class="fa fa-inbox"></i> Boite de Reception
                      <span class="badge bg-primary float-right">{{ NNotif }}</span>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a (click)="MessageEnvoyer()" class="nav-link">
                      <i class="fa fa-envelope-o"></i> Message Envoye
                    </a>
                  </li>

                  <li class="nav-item">
                    <a (click)="corbeille()" class="nav-link">
                      <i class="fa fa-trash-o"></i> Corbeille
                    </a>
                  </li>
                </ul>
              </div>
              <!-- /.card-body -->
            </div>
          </div>
          <!-- /.col -->
          <div class="col-md-9">
            <div class="card card-primary card-outline">
              <div class="card-header">
                <h3 class="card-title"> Message </h3>
              </div>
              <form [formGroup]="firstFormGroup" >
              <!-- /.card-header -->
              <div class="card-body p-0">
                <div class="mailbox-read-info">
                  <h5>Message Subject : {{ msg.subject }}</h5>
                  <h6>From: {{ msg.emeteur.nom }} {{ msg.emeteur.prenom }}
                    <span class="mailbox-read-time float-right">{{ msg.dateE }} {{ msg.heureE }}</span></h6>
                </div>
                <!-- /.mailbox-read-info -->
                <div class="mailbox-read-message">
                  {{ msg.body }}
                </div>
                <!-- /.mailbox-read-message -->
              </div>
              <!-- /.card-body -->
              <div class="card-footer bg-white">
                <ul class="mailbox-attachments clearfix">
                <div class="form-group" *ngIf="!msg.attachement1==''" >
                  <li>
                    <span class="mailbox-attachment-icon"><i class="fa fa-file"></i></span>

                    <div class="mailbox-attachment-info">
                      <a href="#" class="mailbox-attachment-name"><i class="fa fa-paperclip"></i> {{ msg.attachement1 }}</a>
                      <span class="mailbox-attachment-size">

                          <a href="http://localhost:8080/files/{{msg.attachement1}}" class="btn btn-default btn-sm float-right"><i class="fa fa-cloud-download"></i></a>
                        </span>
                    </div>
                  </li>
                </div>
                  <div class="form-group" *ngIf="!msg.attachement2==''" >
                  <li>
                    <span class="mailbox-attachment-icon"><i class="fa fa-file"></i></span>

                    <div class="mailbox-attachment-info">
                      <a href="#" class="mailbox-attachment-name"><i class="fa fa-paperclip"></i> {{ msg.attachement2 }}</a>
                      <span class="mailbox-attachment-size">

                          <a href="http://localhost:8080/files/{{msg.attachement2}}" class="btn btn-default btn-sm float-right"><i class="fa fa-cloud-download"></i></a>
                        </span>
                    </div>
                  </li>
                  </div>
                </ul>
              </div>
              <!-- /.card-footer -->
              <div class="card-footer">
                <button (click)="mettreEnCorbeille(msg)" type="button" class="btn btn-default"><i class="fa fa-trash-o"></i> Delete</button>
              </div>
              <!-- /.card-footer -->
              </form>
            </div>
            <!-- /. box -->
          </div>
          <!-- /.col -->
        </div>
      </div>
        <!-- /.row -->
    </section>
    <!-- /.content -->
  </div>

</div>



  <div class="wrapper" *ngIf="mode==5">
    <div class="content-wrapper">

      <!-- Main content -->
      <section class="content">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-3">
              <a (click)="backToInbox()" class="btn btn-primary btn-block mb-3">Back to Inbox</a>

              <div class="card">

                <div class="card-body p-0">
                  <ul class="nav nav-pills flex-column">
                    <li class="nav-item">
                      <a (click)="backToInbox()" class="nav-link">
                        <i class="fa fa-inbox"></i> Boite de Reception
                        <span class="badge bg-primary float-right">{{ NNotif }}</span>
                      </a>
                    </li>
                    <li class="nav-item">
                      <a (click)="MessageEnvoyer()" class="nav-link">
                        <i class="fa fa-envelope-o"></i> Message Envoye
                      </a>
                    </li>

                    <li class="nav-item">
                      <a (click)="corbeille()" class="nav-link">
                        <i class="fa fa-trash-o"></i> Corbeille
                      </a>
                    </li>
                  </ul>
                </div>
                <!-- /.card-body -->
              </div>
            </div>
            <!-- /.col -->
            <div class="col-md-9">
              <div class="card card-primary card-outline">
                <div class="card-header">
                  <h3 class="card-title"> Message </h3>
                </div>
                <form [formGroup]="firstFormGroup" >
                  <!-- /.card-header -->
                  <div class="card-body p-0">
                    <div class="mailbox-read-info">
                      <h5>Message Subject : {{ msg.subject }}</h5>
                      <h6>From: {{ msg.emeteur.nom }} {{ msg.emeteur.prenom }}
                        <span class="mailbox-read-time float-right">{{ msg.dateE }} {{ msg.heureE }}</span></h6>
                    </div>
                    <!-- /.mailbox-read-info -->
                    <div class="mailbox-read-message">
                      {{ msg.body }}
                    </div>
                    <!-- /.mailbox-read-message -->
                  </div>
                  <!-- /.card-body -->
                  <div class="card-footer bg-white">
                    <ul class="mailbox-attachments clearfix">
                      <div class="form-group" *ngIf="!msg.attachement1==''" >
                        <li>
                          <span class="mailbox-attachment-icon"><i class="fa fa-file"></i></span>

                          <div class="mailbox-attachment-info">
                            <a href="#" class="mailbox-attachment-name"><i class="fa fa-paperclip"></i> {{ msg.attachement1 }}</a>
                            <span class="mailbox-attachment-size">

                          <a href="http://localhost:8080/files/{{msg.attachement1}}" class="btn btn-default btn-sm float-right"><i class="fa fa-cloud-download"></i></a>
                        </span>
                          </div>
                        </li>
                      </div>
                      <div class="form-group" *ngIf="!msg.attachement2==''" >
                        <li>
                          <span class="mailbox-attachment-icon"><i class="fa fa-file"></i></span>

                          <div class="mailbox-attachment-info">
                            <a href="#" class="mailbox-attachment-name"><i class="fa fa-paperclip"></i> {{ msg.attachement2 }}</a>
                            <span class="mailbox-attachment-size">

                          <a href="http://localhost:8080/files/{{msg.attachement2}}" class="btn btn-default btn-sm float-right"><i class="fa fa-cloud-download"></i></a>
                        </span>
                          </div>
                        </li>
                      </div>
                    </ul>
                  </div>
                  <!-- /.card-footer -->
                  <div class="card-footer">
                    <button (click)="suppMsg(msg.idM)" type="button" class="btn btn-default"><i class="fa fa-trash-o"></i> Delete</button>
                  </div>
                  <!-- /.card-footer -->
                </form>
              </div>
              <!-- /. box -->
            </div>
            <!-- /.col -->
          </div>
        </div>
        <!-- /.row -->
      </section>
      <!-- /.content -->
    </div>

  </div>





<script>
  $(function () {
    //Add text editor
    //$('#compose-textarea').wysihtml5()
  })
</script>


<!-- jQuery >
<script src="../../../node_modules/dist/jquery/jquery.min.js"></script>
<!-- Bootstrap 4->
<script src="../../../node_modules/dist/bootstrap.bundle.min.js"></script>
<!-- Slimscroll->
<script src="../../../node_modules/dist/slimScroll/jquery.slimscroll.min.js"></script>
<!-- FastClick->
<script src="../../../node_modules/dist/fastclick/fastclick.js"></script>
<!-- AdminLTE App->
<script src="../../../node_modules/dist/js/adminlte.min.js"></script>
<!-- iCheck->
<script src="../../../node_modules/dist/iCheck/icheck.min.js"></script>
-->
<script>
  $(function () {
    //Enable iCheck plugin for checkboxes
    //iCheck for checkbox and radio inputs
    $('.mailbox-messages input[type="checkbox"]').iCheck({
      checkboxClass: 'icheckbox_flat-blue',
      radioClass   : 'iradio_flat-blue'
    });

    //Enable check and uncheck all functionality
    $('.checkbox-toggle').click(function () {
      var clicks = $(this).data('clicks');
      if (clicks) {
        //Uncheck all checkboxes
        $('.mailbox-messages input[type=\'checkbox\']').iCheck('uncheck');
        $('.fa', this).removeClass('fa-check-square-o').addClass('fa-square-o')
      } else {
        //Check all checkboxes
        $('.mailbox-messages input[type=\'checkbox\']').iCheck('check');
        $('.fa', this).removeClass('fa-square-o').addClass('fa-check-square-o')
      }
      $(this).data('clicks', !clicks)
    });

    //Handle starring for glyphicon and font awesome
    $('.mailbox-star').click(function (e) {
      e.preventDefault();
      //detect type
      var $this = $(this).find('a > i');
      var glyph = $this.hasClass('glyphicon');
      var fa    = $this.hasClass('fa');

      //Switch states
      if (glyph) {
        $this.toggleClass('glyphicon-star');
        $this.toggleClass('glyphicon-star-empty')
      }

      if (fa) {
        $this.toggleClass('fa-star');
        $this.toggleClass('fa-star-o')
      }
    })
  })
</script>
<!-- AdminLTE for demo purposes -->
<script src="../../../dist/js/demo.js"></script>
</div>

